# ğŸ’»éƒ¨ç½²DEMOç«™ç‚¹ 
é€šè¿‡[PM2](http://pm2.keymetrics.io/docs/usage/pm2-doc-single-page/)æˆ–è€…[Docker](https://docs.docker.com/get-started/)éƒ¨ç½²demoç«™ç‚¹åˆ°è‡ªå·±æœåŠ¡å™¨ä¸Š **ï¼ˆæ¨èdockerï¼‰**

### âœ…Dockeréƒ¨ç½²

Platform
  - linux

Requirements
  - docker
  - docker-compose

å…ˆé…ç½®`nginx`, é…ç½®å®Œè®°å¾—é‡å¯æœåŠ¡
```bash
location / {
  proxy_pass http://127.0.0.1:3005; # æœåŠ¡åœ°å€ æ³¨æ„ï¼è¿™é‡Œæˆ‘ä»¬ç”¨çš„æ˜¯3005ç«¯å£
  proxy_set_header Host $host:80; # ä»£ç†åˆ°80ç«¯å£ è‡ªå·±é…ç½®
  proxy_set_header X-Real-IP $remote_addr;
  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
}
```

```bash
# é¡¹ç›®æ ¹ç›®å½•
docker-compose up -d
# å®Œæˆä¹‹ååº”è¯¥ä¼šæœ‰å¦‚ä¸‹è¾“å‡º âœ…
Recreating wechat-redirect_web_1 ... done

# dockeréƒ¨ç½²å®Œæ¯•
```

### âœ…PM2éƒ¨ç½²
Platform
  - linux

Requirements
  - nginx
  - nodejs [[doc]](https://nodejs.org)
```bash
# åŒæ ·å…ˆæ›´æ–°nginxé…ç½®
location / {
  proxy_pass http://127.0.0.1:3000; # æœåŠ¡åœ°å€
  proxy_set_header Host $host:80; # ä»£ç†åˆ°80ç«¯å£ è‡ªå·±é…ç½®
  proxy_set_header X-Real-IP $remote_addr;
  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
}
# è®°å¾—é‡å¯nginx
```
```bash
# å®‰è£…pm2
npm install -g pm2
# ç¼–è¯‘å‰ç«¯ä»£ç 
cd exmaple/front
npm install
npm run build
cd -  #å›åˆ°é¡¹ç›®æ ¹ç›®å½•
npm install

# å¯åŠ¨pm2å®ˆæŠ¤æœåŠ¡
pm2 start --env=production
# æˆåŠŸä¹‹åpm2ä¼šè¾“å‡ºç±»ä¼¼å¦‚ä¸‹ä¿¡æ¯
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App name        â”‚ id â”‚ version â”‚ mode    â”‚ pid   â”‚ status â”‚ restart â”‚ uptime â”‚ cpu  â”‚ mem       â”‚ user â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ WX REDIRECT API â”‚ 0  â”‚ 1.0.0   â”‚ cluster â”‚ 14585 â”‚ online â”‚ 0       â”‚ 0      â”‚ 0.2% â”‚ 48.6 MB   â”‚ root â”‚ disabled â”‚
â”‚ WX REDIRECT API â”‚ 1  â”‚ 1.0.0   â”‚ cluster â”‚ 14594 â”‚ online â”‚ 0       â”‚ 0      â”‚ 0.2% â”‚ 49.6 MB   â”‚ root â”‚ disabled â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

